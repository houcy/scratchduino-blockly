Scratchduino-Blockly

'''Scratchduino-Blockly''' - среда программирования, позволяющая управлять роботом Scratchduino с помощью языка программирования Blockly.

== Установка ==

Перед тем, как начать программировать, надо сделать несколько простых шагов по установке:

=== Windows ===
# Скачать и установить драйвера (//ссылка на статью http://wiki.scratchduino.ru/wiki/%D0%A0%D0%BE%D0%B1%D0%BE%D1%82%D0%BE%D1%82%D0%B5%D1%85%D0%BD%D0%B8%D0%BA%D0%B0_%D1%81_%D0%BF%D0%B5%D0%BB%D0%B5%D0%BD%D0%BE%D0%BA/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_%D0%9F%D0%9E) для Arduino (если они еще не установлены).
# Скачать и установить инсталятор (//ссылка) Scratchduino-Blockly.
# Нажать иконку на Рабочем столе.
=== Linux ===
# Скачать архив ScratchDuino-Blockly_x??.tar.gz (в зависимости от разрядности вашей системы)
# Распаковать его (tar -xzvf ScratchDuino-Blockly_x??.tar.gz)
# Открыть папку ScratchDuino-Blockly_x?? и запустить скрипт run.sh
=== Mac ===
# Скачать образ ScratchDuino-Blockly.dmg и смонтировать его (двойным щелчком)
# Запустить в открывшейся папке файл run.command

​== Главное окно программы ==

Рабочая область состоит из пяти основных частей: (//картинка Main Workspace Numered RUS)

# '''Вкладка "Программа"'''. Редактор программ, в котором с помощью блоков Blockly можно составлять алгоритмы управления роботом.
# '''"Сцена"'''. Область, в которой находится виртуальный робот.
# '''Панель управления'''. Содержит кнопки для настройки и запуска робота и программы.
# '''Панель сенсоров'''. Отображает значения с сенсоров робота во время выполнения программы.
# '''Меню'''. Используется для сохранения/загрузки программ и выбора языка.

== Первая программа на Blockly ==

После установки Scratchduino-Blockly на Рабочем столе появится ярлык. После клика на него откроется окно редактора в браузере по умолчанию. Теперь можно начать программировать робота.

=== Подключение робота ===

Первым делом необходимо убедиться, что робот Scratchduino работает и установлен правильно (данный шаг необходим только в случае, если вы хотите воспользоваться имеющимся у вас роботом). Для этого подключите робота к компьютеру с помощью USB-кабеля или Bluetooth, после чего нажмите серую кнопку с надписью "Порт не выбран". Появится список доступных на данном компьютере портов (в нем может быть более одного порта) (//картинка Ports RUS). Выбрав порт, нажмите кнопку запуска программы. Если данный порт принадлежит не роботу, появится предупреждение (//картинка Port Error RUS) - в этом случае повторите описанные действия, выбрав другой порт. Если порт выбран верно, предупреждений не появится, а в окне сенсоров начнут меняться значения с гнезд датчиков. Можно нажать кнопку остановки выполнения и переходить к следующему шагу.

=== Язык Blockly ===

Blockly похож на Scratch - программы также составляются с помощью блоков, каждый из которых совершает какое-либо действие или операцию. Он имеет наборы блоков для управления моторами робота, получения сигналов с сенсоров, создания циклов, ветвлений, произведения математических операций и прочего. У Blockly есть несколько особенностей, которые надо учитывать при написании программ:

* Порядок блоков важен! Блоки исполняются последовательно сверху вниз, поэтому, например, задавать действия клавишам необходимо в первую очередь.
* Сигнал управления мотору робота отменяет действие предыдущего такого сигнала, поэтому необходимо внимательно составлять циклы и условные операторы и особенно их комбинации.
* Блок "пока программа запущена" циклически повторяет действие, описанное внутри него, пока пользователь не нажмет кнопку остановки. Необходимо следить, чтобы действия в этом блоке не перебивали другие сигналы управления роботом в программе

=== Виртуальный робот (спрайт) ===

Спрайт повторяет движения реального робота в области "Сцены". Его можно использовать для отработки алгоритмов при отсутствии возможности воспользоваться настоящим роботом Scratchduino. В случае выезда за границы сцены спрайт появится с противоположного конца, поэтому его невозможно "потерять".

=== Программа "Квадрат" ===

Создайте в редакторе простую программу, показанную на картинке (//картинка Square RUS). Нажмите кнопку "Запустить", и, если порт выбран правильно, робот опишет по поверхности квадрат. Обратите внимание, что спрайт повторил все движения за реальным роботом. В случае, если Scratchduino не подключен, появится предупреждение, и программа исполнится только для спрайта.

=== Панель управления ===

Управление осуществляется с помощью кнопок "Запустить", "Остановить выполнение" и "Выбор порта". Кнопка выбора порта была рассмотрена в предыдущих разделах.
После запуска программы все блоки в окне "Программа" исполнятся один раз, после чего программа будет либо выполнять оставшиеся циклы (при их наличии), либо закончит выполнение и будет только принимать значения с сенсоров. Определить, запущена ли программа, можно по зеленому цвету кнопки "Запустить". После внесения изменений в программу необходимо перезапустить выполнение (для этого не обязательно останавливать процесс кнопкой "Остановить выполнение").
Кнопка "Остановить выполнение" обрывает исполнение программы и останавливает робота, поэтому ее можно использовать для экстренной остановки.

=== Сохранение и загрузка ===

Меню "Программа" в верхнем углу окна позволяет сохранять скетчи в формате .blocks и загружать ранее сохраненные программы. Пункт "Новая" очистит текущее окно редактора программ, предложив перед этим сохранить скетч.